<% include ../partials/headerDoctype %>
<% include ../partials/headerNavbar %>

<script type="text/javascript">
    $("#contracts").addClass("active");
</script>

<h1 class="ui center aligned block header">Add New Contract</h1>
    
<form class="ui form" action="/contracts" method="POST">
    <h2 class="ui header">Basics :</h2>
    <div class="field">
        <label>Contract Name</label>
        <input type="text" name="contract[name]" placeholder="Name" required>
    </div>
    
    <div class="field">
        <label>Image URL</label>
        <input type="text" name="contract[image]" placeholder="Image URL" required>
    </div>
    
    <div class="field">
        <label>Price</label>
        <input type="number" name="contract[price]" placeholder="Price" min="0.00" step="0.01" required>
    </div>
    
    <div class="field">
        <label>Disponibility</label>
        <input type="number" name="contract[disponibility]" placeholder="Disponibility" min="0" step="1" required>
    </div>
    
    <div class="field">
        <label>Description</label>
        <textarea rows="4" name="contract[description]" placeholder="Description" required></textarea>
    </div>
    
    <h2 class="ui header">Delivery Information :</h2>
    <div class="field">
        <label>Day of the week</label>
        <select name="contract[delivery][dayOfWeek]" required>
            <option>Monday</option>
            <option>Tuesday</option>
            <option>Wednesday</option>
            <option>Thursday</option>
            <option>Friday</option>
            <option>Saturday</option>
            <option>Sunday</option>
        </select>
    </div>
    
    <div class="field">
        <label>Frequency (per month)</label>
        <input type="number" name="contract[delivery][frequency]" placeholder="Frequency (per month)" min="0" max="4" step="1" required>
    </div>
    
    <div class="field">
        <label>Address</label>
        <select name="contract[delivery][address]" required>
            <% for( let i = 0; i < addresses.length; i++ ) { %>
                <option  value="<%= addresses[i]._id %>">
                    <%= addresses[i].name %>
                </option>
            <% } %>
        </select>
    </div>
    
    <a class="ui left floated animated inverted violet button" href="/contracts">
        <div class="visible content">
            Go back
        </div>
        <div class="hidden content">
            <i class="left arrow large icon"></i>
        </div>
    </a>
    <input class="ui inverted green button" type="submit" value="Submit !">
</form>

<% include ../partials/footer %>